# ì´í™”ì—¬ìëŒ€í•™êµ 2025 spring capstone design project â€“ [ì†Œë¹„ ì½”ì¹˜ Lucie]

ë³¸ ë ˆí¬ì§€í† ë¦¬ëŠ”  ì´í™”ì—¬ìëŒ€í•™êµ ì»´í“¨í„°ê³µí•™ê³¼ 2025ë…„ spring(ìŠ¤íƒ€íŠ¸)-autumn(ê·¸ë¡œì“°) ìº¡ìŠ¤í†¤ ë””ìì¸ í”„ë¡œì íŠ¸ë¡œ ì§„í–‰í•œ **28-eìŠ¤íƒ€íŠ¸**íŒ€ **[ì†Œë¹„ ì½”ì¹˜ Lucie]**ì˜ ì†ŒìŠ¤ì½”ë“œì™€ ìë£Œë¥¼ ì •ë¦¬í•œ ê³µê°„ì…ë‹ˆë‹¤.

## 1. íŒ€ & ê³¼ì œ ì†Œê°œ

### 1.1. ê³¼ì œëª…

**ChatGPT APIì™€ RAG, ì¸ì§€í–‰ë™ì¹˜ë£Œ ê¸°ë°˜ ìƒë‹´í˜• ì±—ë´‡ì„ í†µí•œ, 20ëŒ€ ì—¬ì„± ëŒ€ìƒ ì¶©ë™ ì†Œë¹„ ìŠµê´€ êµì • ì½”ì¹­ ì„œë¹„ìŠ¤**

### 1.2. íŒ€ëª… & íŒ€ì›

28-eìŠ¤íƒ€íŠ¸

* ìœ í¬ì •: leader, FE, BE
* ìµœìœ¤ìš°: DB í…ŒìŠ¤íŠ¸
* ì´ê²½ë¦¼: ìë£Œ ì œì¶œ

### 1.3. ê³¼ì œ í‚¤ì›Œë“œ

ì±—ë´‡, RAG, ChatGPT API, ì¶©ë™ ì†Œë¹„(Impulse Buying) CBT(Cognitive Behavioral Therapy)

### 1.4. í”„ë¡œì íŠ¸ ê°œìš”

ë³¸ í”„ë¡œì íŠ¸ëŠ” 20ëŒ€ ì—¬ì„±ì˜ ì¶©ë™ ì†Œë¹„ ìŠµê´€ì„ êµì •í•˜ê¸° ìœ„í•œ CBT(ì¸ì§€í–‰ë™ì¹˜ë£Œ) ê¸°ë°˜ ìƒë‹´í˜• ì½”ì¹­ ì•±ì…ë‹ˆë‹¤.
Mitchell et al.(2006)1ê³¼ Leite et al.(2014)2ì˜ ì—°êµ¬ë¥¼ ì°¸ê³ í•œ 10ì£¼ì°¨ CBT í”„ë¡œí† ì½œì„ ë°”íƒ•ìœ¼ë¡œ, LangGraphë¥¼ í†µí•´ ì‹¤ì œ ìƒë‹´ ê³¼ì •ì„ ëŒ€í™”í˜• ì±—ë´‡ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì•±ì€ ì„¸ ê°€ì§€ ì„¸ì…˜ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

1. ì£¼ê°„ ìƒë‹´ ì„¸ì…˜: ê° ì£¼ì°¨ë³„ CBT ì£¼ì œ(ì˜ˆ: Psycho-education, Money Management, Cognitive Restructuring ë“±)ì— ë”°ë¼ ì‚¬ìš©ìì˜ ì†Œë¹„ ê²½í—˜ì„ íƒìƒ‰í•˜ê³ , ê°ì •Â·ì‚¬ê³ Â·í–‰ë™ íŒ¨í„´ì„ ì¬êµ¬ì¡°í™”í•˜ë©° ê³¼ì œë¥¼ ì œì‹œí•©ë‹ˆë‹¤.
2. ì¼ì¼ ì²´í¬ ì„¸ì…˜: ì£¼ê°„ ìƒë‹´ì—ì„œ ì œì‹œëœ ê³¼ì œì˜ ìˆ˜í–‰ì„ ë•ê³ , ì¼ìƒ ì† ì†Œë¹„ ì¶©ë™ê³¼ ëŒ€ì²˜ ì „ëµ ì ìš© ì—¬ë¶€ë¥¼ ì§§ê²Œ ì ê²€í•©ë‹ˆë‹¤.
3. ì¼ë°˜ FAQ ì„¸ì…˜: ì†Œë¹„ìŠµê´€ ê´€ë ¨ ì§ˆë¬¸ì— ëŒ€í•´ RAG ê¸°ë°˜ ê·¼ê±° ì‘ë‹µì„ ì œê³µí•©ë‹ˆë‹¤.
RAGì—ëŠ” ì¸ì§€í–‰ë™ì¹˜ë£Œì˜ ê°œë…, ì¶©ë™ì†Œë¹„ì™€ ê°•ë°•ì ì†Œë¹„ì¥ì• ì˜ ì—°ê´€ì„±, ê°•ë°•ì ì†Œë¹„ì¥ì• ì— ëŒ€í•œ ì¸ì§€í–‰ë™ì¹˜ë£Œì™€ ê·¸ ì‚¬ë¡€ì— ëŒ€í•œ ë…¼ë¬¸, ì£¼ì°¨ë³„ ìƒë‹´ ì§€ì¹¨ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì´ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ì¶©ë™ì†Œë¹„ì˜ ì‹¬ë¦¬ì  ì›ì¸ì„ ì´í•´í•˜ê³ , ìŠ¤ìŠ¤ë¡œì˜ ì†Œë¹„ íŒ¨í„´ì„ ì ì§„ì ìœ¼ë¡œ êµì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**[ì°¸ê³ ë…¼ë¬¸]**

1. Mitchell, J. E., Burgard, M., Faber, R., Crosby, R. D., & de Zwaan, M. (2006). Cognitive behavioral therapy for compulsive buying disorder. Behaviour Research and Therapy, 44(12), 1859-1865. https://doi.org/10.1016/j.brat.2005.12.009
2. Leite, P. L., Pereira, V. M., Nardi, A. E., & Silva, A. C. (2014). Psychotherapy for compulsive buying disorder: A systematic review. Psychiatry Research, 219(3), 411-419. https://doi.org/10.1016/j.psychres.2014.05.037

---

## 2. Source Code Description

### 2.1. Backend Server (`agent-server/`)

* **LangGraph & LangChain:** ìƒë‹´ ì±—ë´‡ ì›Œí¬í”Œë¡œìš°(Supervisor, Weekly, General) ë° ìƒíƒœ ê´€ë¦¬
* **FastAPI:** ë¹„ë™ê¸° ì›¹ ì„œë²„ ë° API ì—”ë“œí¬ì¸íŠ¸ ì œê³µ
* **RAG Pipeline:** Pinecone Vector DBë¥¼ í™œìš©í•œ ìƒë‹´ í”„ë¡œí† ì½œ ê²€ìƒ‰
* **Firestore Integration:** ëŒ€í™” ë‚´ì—­ ë° ì‚¬ìš©ì ìƒíƒœ ì˜êµ¬ ì €ì¥

### 2.2. Android Client (`android-app/`)

* **Kotlin & Jetpack Compose:** ì•ˆë“œë¡œì´ë“œ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
* **Retrofit2:** ë°±ì—”ë“œ ì„œë²„ì™€ì˜ í†µì‹  ëª¨ë“ˆ

### ğŸ—‚ï¸ ë ˆí¬ì§€í† ë¦¬ êµ¬ì„±

Lucie/
â”œâ”€ README.md
â”œâ”€ README.install.md
â”œâ”€ GroundRule.md
â”œâ”€ agent-server/                         # AI ì½”ì¹­ ë°±ì—”ë“œ
â”‚  â”œâ”€ requirements.txt
â”‚  â”œâ”€ src/
â”‚  â”‚  â”œâ”€ main.py                         # FastAPI ì„œë²„ ì—”íŠ¸ë¦¬
â”‚  â”‚  â”œâ”€ coach_agent/                    # ì½”ì¹­ ì—ì´ì „íŠ¸ í•µì‹¬
â”‚  â”‚  â”‚  â”œâ”€ settings.py
â”‚  â”‚  â”‚  â”œâ”€ configuration.py
â”‚  â”‚  â”‚  â”œâ”€ graph/                       # LangGraph ìƒë‹´ í”Œë¡œìš°
â”‚  â”‚  â”‚  â”‚  â”œâ”€ general/
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ builder.py
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ nodes.py
â”‚  â”‚  â”‚  â”‚  â”œâ”€ main/
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ builder.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ edge.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ load_protocol.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ load_state.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ session_ended.py
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ update_progress.py
â”‚  â”‚  â”‚  â”‚  â”œâ”€ weekly/
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ builder.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ counsel_nodes.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ edge.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ exit_nodes.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ extra_nodes.py
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ greeting_nodes.py
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ offtopic.py
â”‚  â”‚  â”‚  â”‚  â”œâ”€ _init_.py
â”‚  â”‚  â”‚  â”‚  â””â”€ state.py
â”‚  â”‚  â”‚  â”œâ”€ prompts/                    
â”‚  â”‚  â”‚  â”œâ”€ protocols/                  # CBT í”„ë¡œí† ì½œ
â”‚  â”‚  â”‚  â”‚  â”œâ”€ v2/
â”‚  â”‚  â”‚  â”‚  â””â”€ README.md
â”‚  â”‚  â”‚  â”œâ”€ rag/                        
â”‚  â”‚  â”‚  â”œâ”€ services/                   # Firestore ë“± ì™¸ë¶€ ì—°ë™
â”‚  â”‚  â”‚  â””â”€ utils/                      # ê³µìš© ìœ í‹¸
â”‚  â”‚  â”œâ”€ static/                        # ì •ì  ë¦¬ì†ŒìŠ¤
â”‚  â”‚  â”œâ”€ tests/
â”‚  â”‚  â””â”€ .github/workflows/
â”‚  â””â”€ .gitignore
â”‚
â”œâ”€ android-app/                          # Android í´ë¼ì´ì–¸íŠ¸
â”‚  â”œâ”€ README.install.md
â”‚  â”œâ”€ build.gradle.kts                   
â”‚  â”œâ”€ settings.gradle.kts
â”‚  â”œâ”€ gradle.properties
â”‚  â”œâ”€ gradlew
â”‚  â”œâ”€ gradlew.bat
â”‚  â”œâ”€ gradle/
â”‚  â””â”€ app/
â”‚     â”œâ”€ build.gradle.kts                # Module(app)
â”‚     â”œâ”€ proguard-rules.pro
â”‚     â”œâ”€ .gitignore
â”‚     â””â”€ src/
â”‚        â”œâ”€ main/
â”‚        â”‚  â”œâ”€ AndroidManifest.xml
â”‚        â”‚  â”œâ”€ java/com/example/impulsecoachapp/
â”‚        â”‚  â”‚   â”œâ”€ MainActivity.kt
â”‚        â”‚  â”‚   â”œâ”€ MyApplication.kt
â”‚        â”‚  â”‚   â”œâ”€ api/
â”‚        â”‚  â”‚   â”œâ”€ data/
â”‚        â”‚  â”‚   â”œâ”€ di/
â”‚        â”‚  â”‚   â”œâ”€ domain/
â”‚        â”‚  â”‚   â”œâ”€ ui/
â”‚        â”‚  â”‚   â”œâ”€ utils/
â”‚        â”‚  â”‚   â”œâ”€ viewmodel/
â”‚        â”‚  â”‚   â””â”€ worker/
â”‚        â”‚  â””â”€ res/
â”‚        â”œâ”€ androidTest/
â”‚        â””â”€ test/
â””â”€ .gitignore


## 3. Data & Open Source Info

### 3.1. Knowledge Base (RAG Data)
ë³¸ ì„œë¹„ìŠ¤ì˜ ì½”ì¹­ ì—ì´ì „íŠ¸ëŠ” ì „ë¬¸ì ì¸ ì‹¬ë¦¬ ìƒë‹´ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´, ê²€ì¦ëœ í•™ìˆ  ë…¼ë¬¸ê³¼ ìƒë‹´ í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ ì§€ì‹ ë² ì´ìŠ¤(Knowledge Base)ë¥¼ êµ¬ì¶•í•˜ì˜€ìŠµë‹ˆë‹¤.

* **Data Processing:**
  * ì°¸ê³  ë¬¸í—Œì˜ í•µì‹¬ ìƒë‹´ ê¸°ë²•ì„ êµ¬ì¡°í™”ëœ **YAML í”„ë¡œí† ì½œ**ë¡œ ë³€í™˜ (`src/coach_agent/protocols/`)
  * **Pinecone Vector DB**ì— ì„ë² ë”©í•˜ì—¬ RAG(Retrieval-Augmented Generation) ì‹œìŠ¤í…œì— í™œìš©
  * ì‚¬ìš©ìì˜ ìƒí™©ì— ë§ëŠ” ë…¼ë¬¸ ê¸°ë°˜ì˜ ê·¼ê±° ìˆëŠ” ì¡°ì–¸(Evidence-based Advice) ì œê³µ

### 3.2. Key References (ì°¸ê³  ë¬¸í—Œ)
RAG ì„ë² ë”© ë° ìƒë‹´ ë¡œì§ ì„¤ê³„ì— ì°¸ê³ í•œ ì£¼ìš” ë…¼ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
ìƒë‹´ í”„ë¡œí† ì½œ íŒŒì¼(`agent-server/src/coach_agent/protocols/v2/week{n}.yaml`) ë° ê¸°ë²• íŒŒì¼(`agent-server/src/coach_agent/protocols/v2/techniques.yaml`)ì— ëŒ€í•œ ë‚´ìš©ì€ `agent-server/.../protocols/`ë‚´ì˜ `README` íŒŒì¼ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”.

1. Beck, J. S. (2011). Cognitive behavior therapy: Basics and beyond (2nd ed.). Guilford Press. (p. 2)
2. Black, D. W. (2007). A review of compulsive buying disorder. World Psychiatry, 6(1), 14â€“18. https://doi.org/10.1002/j.2051-5545.2007.tb00132.x
3. Darrat, A. A., Darrat, M. A., & Amyx, D. (2016). How impulse buying influences compulsive buying: The central role of consumer anxiety and escapism. Journal of Retailing and Consumer Services, 31, 103â€“108. https://doi.org/10.1016/j.jretconser.2016.03.009
4.Leite, P. L., Pereira, V. M., Nardi, A. E., & Silva, A. C. (2014). Psychotherapy for compulsive buying disorder: A systematic review. Psychiatry Research, 219(3), 411â€“419. https://doi.org/10.1016/j.psychres.2014.06.013
5. Lejoyeux, M., AdÃ¨s, J., Tassain, V., & Solomon, J. (1997). Phenomenology and psychopathology of uncontrolled buying. American Journal of Psychiatry, 154(2), 263â€“267. https://doi.org/10.1176/ajp.154.2.263
6. Miltenberger, R. G., Redlin, J., Crosby, R., Stickney, M., Mitchell, J., Wonderlich, S., & Smyth, J. (1995). Direct and retrospective assessment of factors contributing to compulsive buying. Journal of Behavior Therapy and Experimental Psychiatry, 26(3), 291â€“300. [https://doi.org/10.1016/0005-7916(95)00017-8](https://doi.org/10.1016/0005-7916(95)00017-8)
7. Mitchell, J. E., Burgard, M., Faber, R., Crosby, R. D., & de Zwaan, M. (2006). Cognitive behavioral therapy for compulsive buying disorder. Behaviour Research and Therapy, 44(12), 1859â€“1865. https://doi.org/10.1016/j.brat.2006.01.010
8. MÃ¼ller, A., Mitchell, J. E., Crosby, R. D., Cao, L., Johnson, J., Claes, L., de Zwaan, M. (2013). Estimated prevalence of compulsive buying in Germany and its association with sociodemographic characteristics and depressive symptoms. Psychiatry Research, 210(3), 857â€“862. https://doi.org/10.1016/j.psychres.2013.08.018
9. Rodrigues, R. I., Lopes, P., & Varela, M. (2021). Factors affecting impulse buying behavior of consumers. Frontiers in Psychology, 12, 697080. https://doi.org/10.3389/fpsyg.2021.697080
10. Tavares, H., Lobo, D. S. S., Fuentes, D., & Black, D. W. (2008). Compulsive buying disorder: A review and a case vignette. Revista Brasileira de Psiquiatria, 30(Suppl 1), S16â€“S23. https://doi.org/10.1590/S1516-44462008000500005
11. Verplanken, B., Herabadi, A. G., Perry, J. A., & Silvera, D. H. (2005). Consumer style and health: The role of impulsive buying in unhealthy eating. Psychology & Health, 20(4), 429â€“441. https://doi.org/10.1080/08870440412331337084
12. Vaidyam, A. N., Torous, J., & Black, D. W. (2024). Experiences with large language model chatbots for mental health: A qualitative study. arXiv preprint arXiv:2401.14362. https://arxiv.org/abs/2401.14362
13. Dartmouth College. (2025, March). First therapy chatbot trial yields mental health benefits. Dartmouth News. https://home.dartmouth.edu/news/2025/03/first-therapy-chatbot-trial-yields-mental-health-benefits
14. OM1. (2023). People are using ChatGPT as a therapist. Mental health experts have some concerns. OM1 Insights. https://www.om1.com/resource/people-are-using-chatgpt-as-a-therapist-mental-health-experts-have-some-concerns


### 3.3. Operational Data (ìš´ì˜ ë°ì´í„°)

* **User History:** ì‚¬ìš©ìì™€ì˜ ëŒ€í™” ë‚´ì—­ì€ **Firestore**ì˜ `user/sessions/messages` ì»¬ë ‰ì…˜ì— ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.
* **Session State:** LangGraphì˜ `checkpointer`ë¥¼ í†µí•´ ëŒ€í™”ì˜ ë¬¸ë§¥(Context)ê³¼ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

### 3.4. Open Source

* **Backend**
  * LangChain: <https://www.langchain.com>
  * LangGraph: <https://www.langchain.com/langgraph>
  * FastAPI: <https://fastapi.tiangolo.com>
  * Firebase Admin SDK: <https://firebase.google.com/?hl=ko>
  * RAG
    * Pinecone SDK: <https://www.pinecone.io>
    * Qwen/Qwen3-Embedding-0.6B(RAG Embedding Model): <https://huggingface.co/Qwen/Qwen3-Embedding-0.6B>
    * ì¸ë±ì‹± (ë³¸ ê¹ƒí—ˆë¸Œ ì†ŒìŠ¤ì½”ë“œì—ëŠ” ì¸ë±ì‹± ê³¼ì •ì´ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šìœ¼ë‚˜ ì•„ë˜ íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•¨)
      * LangChain/DocumentLoader/PyMuPDF4LLMLoader: <https://docs.langchain.com/oss/python/integrations/document_loaders/pymupdf4llm>
      * LangChain/DocumentLoader/PyPDF: <https://docs.langchain.com/oss/python/integrations/document_loaders/pypdfloader>
* **Frontend**
  * Jetpack Compose: <https://developer.android.com/compose>
  * Retrofit2: <https://square.github.io/retrofit/>
  * OkHttp: <https://square.github.io/okhttp/>
  * Hilt: <https://dagger.dev/hilt/>, <https://developer.android.com/training/dependency-injection/hilt-android?hl=ko>
  * Coroutines: <https://kotlinlang.org/docs/coroutines-overview.html#coroutine-concepts>
